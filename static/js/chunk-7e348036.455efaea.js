(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e348036"],{"6be9":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("label",{staticStyle:{"font-size":"14px"}},[t._v("任务名称：")]),a("span",{staticClass:"dell"},[t._v(t._s(t.taskForm.name))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("label",{staticStyle:{"font-size":"14px"}},[t._v("类型：")]),a("span",{staticClass:"dell"},[t._v(t._s(t._f("taskTypeTransform")(t.taskForm.type)))])])],1),t._v(" "),a("el-collapse",{attrs:{value:["0","1"]}},[a("el-collapse-item",{attrs:{title:"数据配置",name:"0"}},["0"===t.taskForm.type?a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("label",{staticStyle:{"font-size":"14px"}},[t._v("shell文件")])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("接口机："+t._s(t.source.name))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("文件路径："+t._s(t.source.params.path))])])],1)],1):t._e(),t._v(" "),"3"===t.taskForm.type?a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("label",{staticStyle:{"font-size":"14px"}},[t._v("数据来源(表)")])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("数据源类型："+t._s(t.source.datasourceType))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("集群: "+t._s(t.source.name))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("库: "+t._s(t.source.params.db))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("表: "+t._s(t.source.params.table))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("label",{staticStyle:{"font-size":"14px"}},[t._v("数据去向(表)")])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("数据源类型："+t._s(t.sink.datasourceType))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("集群: "+t._s(t.sink.name))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("库: "+t._s(t.sink.params.db))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("表: "+t._s(t.sink.params.table))])])],1)],1):t._e(),t._v(" "),"4"===t.taskForm.type?a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("label",{staticStyle:{"font-size":"14px"}},[t._v("数据来源(表)")])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("数据源类型："+t._s(t.source.datasourceType))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("集群: "+t._s(t.source.name))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("库: "+t._s(t.source.params.db))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("表: "+t._s(t.source.params.table))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("label",{staticStyle:{"font-size":"14px"}},[t._v("数据去向(文件)")])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("接口机："+t._s(t.sink.name))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("存放路径: "+t._s(t.sink.params.path))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("文件命名规则: "+t._s(t.sink.params.fileName))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("协议类型: "+t._s("0"===t.sink.params.protocolType?"ftp":"sftp"))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("ftp/sftp用户名: "+t._s(t.sink.params.ftpSftpUser))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("ftp/sftp密码: "+t._s(t.sink.params.ftpSftpPassword))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("字段分隔符: "+t._s(t.sink.params.fieldSeparatorSign))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("行结束符: "+t._s(t.sink.params.lineEndingSign))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("省分: "+t._s(t._f("provIdTransform")(t.sink.params.provId,t.provinceList)))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("账期: "+t._s("0"===t.sink.params.DataPartition?"日表":"月表"))])])],1)],1):t._e(),t._v(" "),"5"===t.taskForm.type?a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[a("label",{staticStyle:{"font-size":"14px"}},[t._v("数据来源(文件)")])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("接口机："+t._s(t.source.name))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("存放路径: "+t._s(t.source.params.path))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("字段分隔符: "+t._s(t.source.params.fieldSeparatorSign))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("行结束符: "+t._s(t.source.params.lineEndingSign))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("省分: "+t._s(t._f("provIdTransform")(t.source.params.provId,t.provinceList)))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("账期: "+t._s("0"===t.source.params.DataPartition?"日表":"月表"))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("label",{staticStyle:{"font-size":"14px"}},[t._v("数据来源(表)")])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("数据源类型："+t._s(t.sink.datasourceType))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("集群: "+t._s(t.sink.name))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("库: "+t._s(t.sink.params.db))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("表: "+t._s(t.sink.params.table))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("协议类型: "+t._s("0"===t.source.params.protocolType?"ftp":"sftp"))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("ftp/sftp用户名: "+t._s(t.source.params.ftpSftpUser))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("ftp/sftp密码: "+t._s(t.source.params.ftpSftpPassword))])])],1)],1):t._e()]),t._v(" "),a("el-collapse-item",{attrs:{title:"调度配置",name:"1"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("开始时间："+t._s(t.taskForm.startTime))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("最长运行时间："+t._s(t.taskForm.maxRunTime)+"(分钟)")])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("重复次数："+t._s(t.taskForm.retry))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("并发数："+t._s(t.taskForm.concurrency))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("调度周期："+t._s(t.taskForm.cronExpression))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("调度策略："+t._s(t._f("dependencyTypeTransform")(t.taskForm.dependencyType)))])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("允许错误记录数："+t._s(t.taskForm.wrongCount))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticClass:"dell"},[t._v("上游依赖："+t._s(t.taskForm.parentTtaskName))])])],1)],1)],1)],1)},n=[],l=(a("ac6a"),a("9b5f")),r={name:"任务详情",data:function(){return{taskForm:{cronExpression:"",name:"",type:"0",description:"",maxRunTime:"",concurrency:0,period:"",retry:0,startTime:""},source:{name:"",params:{path:""}},sink:{},taskId:"",provinceList:[]}},methods:{getDetail:function(){var t=this;this.taskId=this.$route.query.id,Object(l["m"])("taskId="+this.taskId).then((function(s){if(200===s.code){t.taskForm=s.data;var a=JSON.parse(s.data.taskXml);t.source=a.context.source,0!==t.taskForm.type&&(t.sink=a.context.sink),console.log(t.source,t.sink)}}))},getProvinceListData:function(){var t=this;Object(l["j"])("pageNum=0&pageSize=40").then((function(s){200===s.code&&(t.provinceList=s.data),console.log(t.provinceList),t.getDetail()}))}},filters:{taskTypeTransform:function(t){return t?"0"===t?"shell":"3"===t?"表到表采集":"4"===t?"表到文件采集":"5"===t?"文件到表采集":void 0:""},dependencyTypeTransform:function(t){return 0===t?"时间和事件依赖":1===t?"时间依赖":2===t?"事件依赖":3===t?"立即执行":void 0},provIdTransform:function(t,s){if(t){var a="未知";return s.forEach((function(s){s.provId===t&&(a=s.provName)})),a}return"未知"}},created:function(){this.getProvinceListData()}},o=r,c=(a("a740"),a("2877")),p=Object(c["a"])(o,e,n,!1,null,null,null);s["default"]=p.exports},"6ddb":function(t,s,a){},"9b5f":function(t,s,a){"use strict";a.d(s,"e",(function(){return n})),a.d(s,"y",(function(){return l})),a.d(s,"w",(function(){return r})),a.d(s,"h",(function(){return o})),a.d(s,"m",(function(){return c})),a.d(s,"l",(function(){return p})),a.d(s,"n",(function(){return i})),a.d(s,"D",(function(){return d})),a.d(s,"f",(function(){return u})),a.d(s,"s",(function(){return _})),a.d(s,"t",(function(){return v})),a.d(s,"u",(function(){return f})),a.d(s,"r",(function(){return m})),a.d(s,"p",(function(){return k})),a.d(s,"j",(function(){return b})),a.d(s,"i",(function(){return g})),a.d(s,"A",(function(){return C})),a.d(s,"k",(function(){return h})),a.d(s,"B",(function(){return y})),a.d(s,"q",(function(){return T})),a.d(s,"o",(function(){return w}));var e=a("b775");a("5c96");function n(t){return Object(e["a"])({url:"/dgp/task/deletetask?"+t,method:"post"})}function l(t){return Object(e["a"])({url:"/dgp/task/onlinetask?"+t,method:"post"})}function r(t){return Object(e["a"])({url:"/dgp/task/offlinetask?"+t,method:"post"})}function o(){return Object(e["a"])({url:"/dgp/task/parentTasklist",method:"get"})}function c(t){return Object(e["a"])({url:"/dgp/task/getTaskById?"+t,method:"post"})}function p(t){return Object(e["a"])({url:"/dgp/task/getTaskListByName?"+t,method:"post"})}function i(t){return Object(e["a"])({url:"/dgp/taskInstance/list?"+t,method:"get"})}function d(t,s){return Object(e["a"])({url:"/dgp/task/getTaskByExample?"+t,method:"post",data:s})}function u(t,s){return Object(e["a"])({url:"/dgp/taskInstance/getTaskInstanceByExample?"+t,method:"post",data:s})}function _(t,s){return Object(e["a"])({url:"/dgp/task/createShellTask?"+t,method:"post",data:s})}function v(t,s){return Object(e["a"])({url:"/dgp/task/newcreateTableToFileTask?"+t,method:"post",data:s})}function f(t,s){return Object(e["a"])({url:"/dgp/task/newcreateTableToTableTask?"+t,method:"post",data:s})}function m(t,s){return Object(e["a"])({url:"/dgp/task/newcreateFileToTaskTask?"+t,method:"post",data:s})}function k(){return Object(e["a"])({url:"/dgp/task/getTaskType",method:"post"})}function b(t){return Object(e["a"])({url:"/dgp/govProvince/list?"+t,method:"get"})}function g(){return Object(e["a"])({url:"/dgp/metadata/getHiveDataSourceList",method:"post"})}function C(t){return Object(e["a"])({url:"/dgp/metadata/selectDatabaseByHive?"+t,method:"post"})}function h(t){return Object(e["a"])({url:"/dgp/metadata/getTableByDatabase?"+t,method:"post"})}function y(){return Object(e["a"])({url:"/dgp/metadata/selectLinuxDataSourceList",method:"post"})}function T(t){return Object(e["a"])({url:"/dgp/datasource/getinterfaceMachineFilePath?"+t,method:"post"})}function w(t){return Object(e["a"])({url:"/dgp/task/getTaskListByUserId?"+t,method:"get"})}},a740:function(t,s,a){"use strict";var e=a("6ddb"),n=a.n(e);n.a}}]);